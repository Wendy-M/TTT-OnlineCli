(this.webpackJsonpttt_front=this.webpackJsonpttt_front||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),l=a.n(o),c=a(6),s=a(7),i=a(9),m=a(8),u=a(16),p=(a(80),a(3)),h=a(13),d=a(23),f=a(15),E=a(11),g=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.checkboxchange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.checked))},n.addNewRegister=function(e){if(e.preventDefault(),n.state.cg){var t={lastname:n.state.lastname,firstname:n.state.firstname,email:n.state.email,password:n.state.password,gender:n.state.gender,age:n.state.age,adress:n.state.adress,phone:n.state.phone},a=new Headers({"Content-Type":"application/json"}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("http://localhost:8080/client/register",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),!0===e.success&&(alert("Votre inscription a bien \xe9t\xe9 prise en compte. Vous pouvez d\xe9sormais acc\xe9der \xe0 votre compte"),n.props.history.push("/Connexion"))}),(function(e){console.log(e)}))}else n.setState({message:"Veuillez accepter les CGU-CGV. Merci."})},n.state={lastname:null,firstname:null,email:null,password:null,gender:null,age:null,adress:null,phone:null,cg:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"bigBlocClient"},r.a.createElement(d.a,{className:"blocprincipalClient "},r.a.createElement(f.a,{className:"creerInscr"},r.a.createElement(E.a,{className:"colInscr",xs:12,s:12,md:7},r.a.createElement("h1",{className:"TitreInscription"},"Cr\xe9er mon compte "),r.a.createElement("p",{className:"sous-titre"},"Merci de remplir les informations ci-dessous pour finaliser la cr\xe9ation de votre compte."),r.a.createElement(p.a,{className:"form1"},r.a.createElement(p.a.Group,{controlId:"lastname"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Nom",name:"lastname",onChange:this.change})),r.a.createElement(p.a.Group,{controlId:"firstname"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Pr\xe9nom",name:"firstname",onChange:this.change})),r.a.createElement(p.a.Group,{controlId:"email"},r.a.createElement(p.a.Control,{type:"mail",placeholder:"Email",name:"email",onChange:this.change})),r.a.createElement(p.a.Group,{controlId:"password"},r.a.createElement(p.a.Control,{type:"password",placeholder:"Mot de passe",name:"password",onChange:this.change})),r.a.createElement(p.a,{className:"form2"},r.a.createElement(p.a.Group,{controlId:"gender"},r.a.createElement(p.a.Control,{as:"select",type:"text",name:"gender",onChange:this.change},r.a.createElement("option",null,"-"),r.a.createElement("option",null,"Femme"),r.a.createElement("option",null,"Homme"))),r.a.createElement(p.a.Group,{controlId:"adress"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Ville/Code postale",name:"adress",onChange:this.change})),r.a.createElement(p.a.Group,{controlId:"phone"},r.a.createElement(p.a.Control,{type:"text",placeholder:"T\xe9l\xe9phone",name:"phone",onChange:this.change})),r.a.createElement(p.a.Group,{controlId:"age"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Age",name:"age",onChange:this.change}))),r.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(p.a.Check,{className:"checkbox",type:"checkbox",label:"J'accepte les CGU et CGV.*",onChange:this.checkboxchange,name:"cg"})),r.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(p.a.Check,{className:"checkbox",type:"checkbox",label:"J'accepte que mes donn\xe9es soient utilis\xe9s \xe0 des fins commerciales."}))),r.a.createElement(h.a,{className:"buttonInscri",type:"submit",onClick:this.addNewRegister},"S'inscrire"),r.a.createElement("br",null),r.a.createElement("p",null,this.state.message)),r.a.createElement(E.a,{className:"backInscr",md:5}))))}}]),a}(n.Component),b=(a(84),a(85),a(12)),v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.loginClient=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password},a=new Headers({"Content-Type":"application/json"}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("http://localhost:8080/client/login",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),e.token&&e.userId&&(localStorage.setItem("token",e.token),localStorage.setItem("userID",e.userId),n.props.history.push("/ListeServeurs"))}),(function(e){console.log(e)}))},n.state={email:null,password:null},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"connexion"},r.a.createElement(f.a,{className:"blocprincipalClient"},r.a.createElement(E.a,{xs:12,s:12,md:6,className:"formConnexion"},r.a.createElement(p.a,{className:"formConnexion"},r.a.createElement(p.a.Label,{className:"text"},"D\xe9j\xe0 membre?"),r.a.createElement(p.a.Label,{className:"text"},"Connectez-vous !"),r.a.createElement(p.a.Group,{controlId:"formBasicEmail"},r.a.createElement(p.a.Control,{name:"email",type:"email",placeholder:"Votre e-mail",id:"email",onChange:this.change,value:this.state.email}),r.a.createElement(p.a.Text,{className:"text-muted"})),r.a.createElement(p.a.Group,{className:"passwordConnexion",controlId:"formBasicPassword"},r.a.createElement(p.a.Control,{name:"password",type:"password",placeholder:"Mot de passe",id:"password",onChange:this.change,value:this.state.password})),r.a.createElement(E.a,{className:"colMdp",xs:12,md:8},r.a.createElement(b.b,{className:"forgetpwd",to:"/passwordReset"},r.a.createElement("p",null,"Mot de passe oubli\xe9 ?")),r.a.createElement("p",{className:"politique"},"J'ai lu et j'accepte ",r.a.createElement(b.b,null,"la politique de confidentialit\xe9.")),r.a.createElement(h.a,{className:"connectButton",type:"submit",onClick:this.loginClient},"Se connecter")),r.a.createElement("p",null,this.state.message),r.a.createElement(E.a,{md:8,className:"blocCompte"},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,{className:"text2"},"Pas encore membre ?")),r.a.createElement(b.b,{className:"creerCompte",to:"/Inscription"},"Cr\xe9er mon compte")))),r.a.createElement(E.a,{className:"connexPic"})))}}]),a}(n.Component),C=(a(89),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),console.log(),(n=t.call(this,e)).click=function(){n.props.history.push({pathname:"/ListeServeurs"})},n.postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("http://localhost:8080/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state)}),(function(e){console.log(e)}))},n.deleteClient=function(e){window.confirm("Etes-vous sur de vouloir supprimer votre compte? Cette action est irr\xe9versible."),e.preventDefault();var t={userId:localStorage.getItem("userID"),client:n.state.client},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),r={method:"DELETE",body:JSON.stringify(t),headers:a};fetch("http://localhost:8080/client/delete",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),alert("La suppression de votre compte a bien \xe9t\xe9 prise en compte. Merci."),n.props.history.push("/Home")}),(function(e){console.log(e)}))},n.signOut=function(){localStorage.clear(),n.props.history.push("/Connexion")},n.state={client:{historique:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement(d.a,{className:"blocprincipalProfil "},r.a.createElement(h.a,{className:"buttontip",variant:"warning",size:"sm",onClick:this.click},"POURBOIRE"),r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"Titre-profil"},"Mon Profil Client"),r.a.createElement("div",{className:"infoProfil"},r.a.createElement("p",null,this.state.client.firstname," ",this.state.client.lastname),r.a.createElement("p",{className:"profilPara"},this.state.client.adress),r.a.createElement("p",{className:"profilPara"},this.state.client.phone)))),r.a.createElement(f.a,null,r.a.createElement(E.a,{s:12,xs:12,md:6},r.a.createElement(b.b,{to:"/modifierMonProfil",className:"modif"},r.a.createElement(h.a,{className:"buttonedit",type:"submit"},"Mettre \xe0 jour mon profil"))),r.a.createElement(E.a,{s:12,xs:12,md:6},r.a.createElement(b.b,{to:"/ListeServeurs",className:"modif"},r.a.createElement(h.a,{className:"buttonedit",type:"submit"},"Donner un Tipourboire"))),r.a.createElement(E.a,{s:12,xs:12,md:6},r.a.createElement(b.b,{to:"/Historique",className:"modif"},r.a.createElement(h.a,{className:"buttonedit",type:"submit"},"Historique de mes dons"))),r.a.createElement(E.a,{s:12,xs:12,md:6},r.a.createElement("div",{className:"Titre"},r.a.createElement(h.a,{className:"buttondeco",variant:"outline-warning",type:"submit",onClick:this.signOut},"Se d\xe9connecter"))),r.a.createElement("p",null,this.state.message)))}}]),a}(n.Component)),y=a(14),N=(a(90),a(134)),j=a(135),O=(n.Component,a(91),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"ContainerHome"},r.a.createElement(f.a,{className:"blocHome"},r.a.createElement(E.a,{xs:12,md:6},r.a.createElement("h1",null,"Donner un Tip"),r.a.createElement("h2",null,"Sans compte client"),r.a.createElement("p",null,"Donner un pourboire sans cr\xe9er de compte"),r.a.createElement(b.b,{to:"/ListeServeurs"},r.a.createElement(h.a,{className:"rowButton"},"Donner un pourboire"))),r.a.createElement(E.a,{xs:12,md:6},r.a.createElement("h1",null,"Donner un Tip"),r.a.createElement("h2",null,"Avec compte client"),r.a.createElement("p",null,"Me connecter \xe0 mon espace Tipourboire"),r.a.createElement(b.b,{to:"/connexion"},r.a.createElement(h.a,{className:"rowButton"},"Donner un pourboire")))))}}]),a}(n.Component)),I=a(132),S=a(45);a(92);a(93);var x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDataServeurs=function(e){var t=new Headers({"Content-Type":"application/json"});fetch("http://localhost:8080/client/getDataServeur",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({serveur:e}),localStorage.setItem("restaurantName",e.restaurantName),localStorage.setItem("@idRestaurant",e._id)}),(function(e){console.log(e)}))},n.saveIdRestaurant=function(){},n.display=function(){return n.state.serveur.tabServeur.map((function(e,t){return r.a.createElement(d.a,{fluid:!0},r.a.createElement(f.a,{className:"rowTitre"},r.a.createElement(E.a,null,r.a.createElement("h3",null,"Donnez un tip \xe0"))),r.a.createElement(f.a,{className:"rowTitre2"},r.a.createElement(E.a,{s:12},r.a.createElement("h3",null,e.serveurName))),r.a.createElement(f.a,{className:"rowImage"},r.a.createElement(E.a,null,r.a.createElement(I.a,{src:"http://localhost:8080/"+e.serveurPicture}))),r.a.createElement(f.a,{className:"butTips"},r.a.createElement(E.a,null,r.a.createElement(h.a,{onClick:function(){var t=new Headers({"Content-Type":"application/json"}),a={email:e.serveurMail},r={method:"POST",headers:t,body:JSON.stringify(a)};fetch("http://localhost:8080/client/emailServeur",r).then((function(e){return e})).then((function(e){console.log(e)}),(function(e){console.log(e)})),n.props.history.push({pathname:"/Payment"})}},"Donner un Pourboire"))))}))},n.state={serveur:{tabServeur:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDataServeurs(),console.log("localStorage.getItem()"),console.log(localStorage.getItem("@idRestaurant"))}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{className:"blocPrincipalClient"},r.a.createElement(f.a,{className:"vousEtes"},r.a.createElement(E.a,{className:"colLieu",s:12},r.a.createElement("img",{src:"/logoTTT/map.png"}),r.a.createElement("h1",{className:"Titre"},"Lieu : ",this.state.serveur.restaurantName))),r.a.createElement(f.a,null," ",r.a.createElement(E.a,{className:"colButton"},r.a.createElement(h.a,{onClick:function(){var t={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({})};fetch("http://localhost:8080/client/emailServeur",t).then((function(e){return e})).then((function(e){console.log(e)}),(function(e){console.log(e)})),e.props.history.push({pathname:"/TipCommun"})}},"Donner \xe0 toute l'\xe9quipe !"))),r.a.createElement(f.a,{className:"display"},r.a.createElement(E.a,{xs:12,s:12,md:4},this.display())))}}]),a}(n.Component),w=(a(94),a(133)),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).connect=function(){return null===localStorage.getItem("token")?r.a.createElement(N.a.Collapse,{className:"justify-content-end",id:"basic-navbar-nav"},r.a.createElement(j.a,{className:"justify-content-end"},r.a.createElement(j.a.Link,{className:"navlink"},r.a.createElement(b.b,{className:"link",to:"/Connexion"},"Se connecter")),r.a.createElement(j.a.Link,{className:"navlink"},r.a.createElement(b.b,{className:"link",to:"/Inscription"},"S'inscrire")))):r.a.createElement(N.a.Collapse,{className:"justify-content-end",id:"basic-navbar-nav"},r.a.createElement(j.a,{className:"justify-content-end"},r.a.createElement(j.a.Link,{className:"navlink"},r.a.createElement(b.b,{className:"link",to:"/Profil"},"G\xe9rer mon compte")),r.a.createElement(j.a.Link,{className:"navlink"},r.a.createElement(b.b,{className:"link",to:"/Historique"},"Historique de pourboires"))))},n.state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.connect()}},{key:"render",value:function(){return r.a.createElement(d.a,{fluid:!0},r.a.createElement(f.a,{className:"partie1"},r.a.createElement(w.a,{className:"nav justify-content-right"},r.a.createElement(w.a.Toggle,{alignRight:!0,variant:"success",id:"dropdown-basic"},r.a.createElement("img",{src:"/logoTTT/user.png"})),r.a.createElement(w.a.Menu,null,r.a.createElement(w.a.Item,{href:"/Profil"},"Mon profil"),r.a.createElement(w.a.Item,{href:"/Home"},"Donner un pourboire"),r.a.createElement(w.a.Item,{href:"/Connexion"},"Connexion"))),r.a.createElement(E.a,{className:"logoPartie1",md:12},r.a.createElement("img",{src:"/logoTTT/logoJaune.png"}))))}}]),a}(n.Component),D=a(29),T=a.n(D),P=a(39),M=a(47),G=(a(97),Object(M.a)("pk_test_51HAxRlHoh2Vgz5QdMpHXhINQMDhyGPR4gFvzs9vVzocySBI4WCfw8oPa7De6PC2ZJZlQKVQFRDPLU7FIGmXZC0QA00XGutN1eU")),H=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("http://localhost:8080/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state.client.email)}),(function(e){console.log(e)}))},n.app=function(){var e=Object(P.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:10}],mode:"payment",successUrl:"http://localhost:8080/client/transfert?qte=10&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 5:r=e.sent,r.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.app1=function(){var e=Object(P.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:2}],mode:"payment",successUrl:"http://localhost:8080/client/transfert?qte=2&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 5:r=e.sent,r.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.app2=function(){var e=Object(P.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:5}],mode:"payment",successUrl:"http://localhost:8080/client/transfert?qte=5&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 5:r=e.sent,r.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.appChoice=function(){var e=Object(P.a)(T.a.mark((function e(t){var a,r,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G;case 2:return a=e.sent,r=n.state.amount,e.next=6,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:Number(r)}],mode:"payment",successUrl:"http://localhost:8080/client/transfert?qte="+r+"&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 6:o=e.sent,o.error;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.change=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.state={amount:0,client:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"blocTips"},r.a.createElement("div",{className:"allButton"},r.a.createElement("h1",{className:"titleTips"},"Don Tipourboire"),r.a.createElement(f.a,{className:"RowPourboire"},r.a.createElement(E.a,null,r.a.createElement("button",{className:"tipButton1",onClick:this.app1},"Donnez 2 euros")),r.a.createElement(E.a,null,r.a.createElement("button",{className:"tipButton2",onClick:this.app2},"Donnez 5 euros")),r.a.createElement(E.a,null,r.a.createElement("button",{className:"tipButton3",onClick:this.app},"Donnez 10 euros")))),r.a.createElement("h1",{className:"amount"},"Don libre"),r.a.createElement(f.a,null,r.a.createElement(E.a,{xs:12,s:12,md:12},r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Montant",onChange:this.change,value:this.state.amount}))))),r.a.createElement("p",{className:"amountMsg"},"(Veuillez saisir uniquement des chiffres entiers)"),r.a.createElement(h.a,{className:"validAmount",variant:"primary",type:"submit",onClick:this.appChoice},"Valider")))}}]),a}(n.Component),R=Object(M.a)("pk_test_51HAxRlHoh2Vgz5QdMpHXhINQMDhyGPR4gFvzs9vVzocySBI4WCfw8oPa7De6PC2ZJZlQKVQFRDPLU7FIGmXZC0QA00XGutN1eU"),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).Nocompte=function(){return r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement("p",null,"Tipourboire ne collecte aucune information"),r.a.createElement("p",null,r.a.createElement(b.b,{to:"https://stripe.com/payment-terms/legal"},"CGU Stripe"))))},n.state={_id:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.Elements,{stripe:R},r.a.createElement(H,null)))}}]),a}(n.Component),J=a(127),z=(a(98),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDailyMenu=function(){var e=new Headers({"Content-Type":"application/json"});fetch("http://localhost:8080/client/menu/",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);n.setState({db1:t}),n.setState({menu:n.state.db1.menu.dailyMenu.picture}),console.log("this.state.db1"),console.log(n.state.menu)}),(function(e){console.log(e)}))},n.state={db1:{},menu:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDailyMenu()}},{key:"render",value:function(){return r.a.createElement(d.a,{className:"blocprincipal"},r.a.createElement(J.a,null,r.a.createElement("h2",{className:"Titre"},"MENU DU JOUR"),r.a.createElement(J.a.Body,null,r.a.createElement("p",{className:"datemenu"})),r.a.createElement(J.a.Img,{variant:"top",src:"http://localhost:8080/"+this.state.menu,className:"dailyMenu",alt:"Menu du Jour"})),r.a.createElement(f.a,null,r.a.createElement(E.a,{md:12},r.a.createElement(b.b,{to:"/Home"},r.a.createElement(h.a,{className:"button",variant:"outline-warning",size:"lg"},"POURBOIRE")))))}}]),a}(n.Component)),L=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(z,null)}}]),a}(n.Component),V=(a(99),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.passwordRenew=function(e){if(e.preventDefault(),n.state.email&&n.state.password){var t={email:n.state.email,password:n.state.password,token:n.props.match.params.token},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("http://localhost:8080/serveur/password-renew",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",password:"",message:""},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"renewPass"},r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"PassRenewCol",md:12},r.a.createElement("h1",{className:"newPass"}," Votre nouveau mot de passe"),r.a.createElement("form",{className:"formRenew",onSubmit:this.passwordRenew},r.a.createElement("input",{className:"inputRenew",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"}),r.a.createElement("br",null),r.a.createElement("input",{className:"inputRenew",type:"password",id:"password",name:"password",onChange:this.handleInput,placeholder:"Nouveau mot de passe"}),r.a.createElement("br",null),r.a.createElement(h.a,{className:"renewButton"},"Valider")),r.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),q=(a(100),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.passwordReset=function(e){if(e.preventDefault(),n.state.email){var t={email:n.state.email},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("http://localhost:8080/serveur/password-reset",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",message:""},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"passwordReset"},r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"PassResetCol",md:12},r.a.createElement("div",{className:"PassResetDiv"},r.a.createElement("h1",{className:"taille"},"Veuillez saisir votre mail "),r.a.createElement("h1",{className:"titrePass taille"},"pour r\xe9initialiser votre mot de passe "),r.a.createElement("form",{className:"formReset",onSubmit:this.passwordReset},r.a.createElement("input",{className:"inputReset",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"})))),r.a.createElement(E.a,{className:"ButtonReset",md:12},r.a.createElement(h.a,{className:"resetButton"},"Confirmer"),r.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),U=(a(101),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.addNewStatut=function(e){e.preventDefault();var t={prenom:n.state.prenom,nom:n.state.nom,texte:n.state.texte,id:n.props.serveurId},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("http://localhost:8080/client/commentaire",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.props.history.push({state:{serveurId:n.props.id},pathname:"/menu"})}),(function(e){console.log(e)}))},n.state={commentaires:[{nom:"",prenom:"",texte:""}]},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"contCom"},r.a.createElement(f.a,{className:"coms"},r.a.createElement(E.a,{xs:12,s:12,md:12},r.a.createElement("h1",{className:"titreCom"},"Laissez un commentaire \xe0 votre serveur"))),r.a.createElement(f.a,{className:"coms"},r.a.createElement(E.a,{xs:12,s:12,md:12},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.prenom,name:"prenom",type:"text",placeholder:"Prenom"})),r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.nom,name:"nom",type:"text",placeholder:"nom"})),r.a.createElement("textarea",{onChange:this.handleInput,value:this.state.texte,name:"texte",type:"text",class:"form-control",placeholder:"Que voulez-vous dire ?"})),r.a.createElement(E.a,null,r.a.createElement("button",{className:"buttonStatut",type:"submit",onClick:this.addNewStatut},"Publier")),r.a.createElement(E.a,{className:"caract"},r.a.createElement("small",null,"100 caract\xe8res maximum"))))}}]),a}(n.Component)),A=a(69),Q=(a(102),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("http://localhost:8080/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t})}),(function(e){console.log(e)}))},n.display=function(){return n.state.client.historique.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{type:"text",id:"montant",name:"montant"}," ",e.montant/100,"\u20ac"),r.a.createElement("td",{type:"date",id:"date",name:"date"}," ",new Date(e.date).toLocaleDateString()),r.a.createElement("td",{type:"text",id:"waiter",name:"waiter"}," ",e.waiter),r.a.createElement("td",{type:"text",id:"restaurantName",name:"restaurantName"}," ",e.restaurantName))}))},n.state={client:{historique:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement(d.a,{className:"histoClient"},r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"titleHisto"}," ",r.a.createElement("h3",null,"Historique de vos pourboire"))),r.a.createElement(f.a,{class:"table-responsive"},r.a.createElement(A.a,{striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Montant"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Serveur"),r.a.createElement("th",null,"Restaurant"))),r.a.createElement("tbody",null,this.display()))))}}]),a}(n.Component)),_=(a(103),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){var t=n.state.client;t[e.target.name]=e.target.value,n.setState({client:t})},n.postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("http://localhost:8080/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state)}),(function(e){console.log(e)}))},n.editClient=function(e){e.preventDefault();var t={userId:localStorage.getItem("userID"),client:n.state.client},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),r={method:"PUT",body:JSON.stringify(t),headers:a};fetch("http://localhost:8080/client/edit",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))},n.state={client:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement("div",{className:"bloc-modifierProfil"},r.a.createElement(f.a,null,r.a.createElement(E.a,{md:12,className:"titreModif"},r.a.createElement("h1",null,"Modification du profil"),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formGroupName"},r.a.createElement(p.a.Control,{name:"lastname",type:"text",placeholder:"Nom",onChange:this.change,value:this.state.client.lastname})),r.a.createElement(p.a.Group,{controlId:"formGroupPrenom"},r.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.change,value:this.state.client.firstname})),r.a.createElement(p.a.Group,{controlId:"formAdresse"},r.a.createElement(p.a.Control,{as:"select",type:"text",placeholder:"Sexe",name:"gender",onChange:this.change,value:this.state.client.gender},r.a.createElement("option",null,"-"),r.a.createElement("option",null,"Femme"),r.a.createElement("option",null,"Homme"))),r.a.createElement(p.a.Group,{controlId:"formVille"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Ville",name:"adress",onChange:this.change,value:this.state.client.adress})),r.a.createElement(p.a.Group,{controlId:"formTel"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Telephone(Facultatif)",name:"phone",onChange:this.change,value:this.state.client.phone})),r.a.createElement(p.a.Group,{controlId:"formAge"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Age",name:"age",onChange:this.change,value:this.state.client.age}))),r.a.createElement(h.a,{className:"submitButton",variant:"primary",type:"submit",onClick:this.editClient},"Mettre \xe0 jour mon profil"))))}}]),a}(n.Component)),W=(a(104),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.postInfoCard=function(){var e=new Headers({"Content-Type":"application/json"}),t={firstname:n.state.firstname,lastname:n.state.lastname,email:n.state.email},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("http://localhost:8080/client/TipUser",a).then((function(e){return e.json()})).then((function(e){localStorage.setItem("@data",JSON.stringify(e))})),n.props.history.push("/TipCommun1")},n.state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(d.a,{className:"mainBlocCommun"},r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"blocCommun",xs:12,s:12,md:12},r.a.createElement("p",{className:"titleCommun"},"Information client")),r.a.createElement(E.a,{className:"formCommun",xs:12,s:12,md:12},r.a.createElement(p.a,{className:"formCommun"},r.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{className:"formMail",name:"email",type:"text",placeholder:"E-Mail",onChange:this.handleInput,value:this.state.email}),r.a.createElement(p.a.Control,{name:"lastname",type:"text",placeholder:"Nom",onChange:this.handleInput,value:this.state.lastname}),r.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.handleInput,value:this.state.firstname})))),r.a.createElement(E.a,{className:"ButtonCol",xs:12,s:12,md:12},r.a.createElement(h.a,{className:"communButton",onClick:this.postInfoCard},"Continuer vers la page de paiement"))))}}]),a}(n.Component)),F=a(70),X=a.n(F),Z=a(71),K=a.n(Z),Y=(a(125),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.postToken=function(){K()({method:"post",url:n.state.data.CardRegistrationURL,data:X.a.stringify({cardRegistrationId:n.state.data.Id,accessKeyRef:n.state.data.AccessKey,data:n.state.data.PreregistrationData,cardNumber:n.state.cardNumber,cardExpirationDate:n.state.cardExpirationDate,cardCvx:n.state.cardCvx}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){n.setState({resultat:e}),n.payin()}))},n.payin=function(){var e=new Headers({"Content-Type":"application/json"}),t={walletID:n.state.walletID,amount:n.state.amount,cardRegistrationId:n.state.data.Id,registrationData:n.state.resultat.data},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("http://localhost:8080/client/payin",a).then((function(e){return e.json()})).then((function(e){n.setState({walletID:e}),console.log(e)}))},n.getWalletId=function(){var e=new Headers({"Content-Type":"application/json"}),t={_id:localStorage.getItem("@idRestaurant")},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("http://localhost:8080/client/getWalletId",a).then((function(e){return e.json()})).then((function(e){n.setState({walletID:e}),console.log(e)}))},n.state={data:{},resultat:{},walletID:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getWalletId(),console.log("JSON"),this.setState({data:JSON.parse(localStorage.getItem("@data"))}),console.log(JSON.parse(localStorage.getItem("@data")))}},{key:"render",value:function(){return r.a.createElement(d.a,{className:"mainBlocCommun"},r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"blocCommun",xs:12,s:12,md:12},r.a.createElement("p",{className:"titleCommun"},"Paiement du pourboire")),r.a.createElement(E.a,{className:"formCommun",xs:12,s:12,md:12},r.a.createElement(p.a,{className:"formCommun"},r.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Montant du Don G\xe9n\xe9ral",onChange:this.handleInput}),r.a.createElement(p.a.Control,{name:"cardNumber",type:"text",placeholder:"Num\xe9ro de carte bleu",onChange:this.handleInput}),r.a.createElement(p.a.Control,{name:"cardExpirationDate",type:"text",placeholder:"Date d'expiration",onChange:this.handleInput}),r.a.createElement(p.a.Control,{name:"cardCvx",type:"text",placeholder:"CVX",onChange:this.handleInput})))),r.a.createElement(E.a,{className:"ButtonCol",xs:12,s:12,md:12},r.a.createElement(h.a,{className:"communButton",onClick:this.postToken},"Payer"))))}}]),a}(n.Component)),$=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{name:"email",type:"text",placeholder:"E-Mail",onChange:this.change,value:this.state.amount}),r.a.createElement(p.a.Control,{name:"name",type:"text",placeholder:"Nom",onChange:this.change,value:this.state.amount}),r.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.change,value:this.state.amount}),r.a.createElement(p.a.Control,{name:"birthday",type:"date",placeholder:"Date de naissance",onChange:this.change,value:this.state.amount}))))}}]),a}(n.Component),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(k,null),r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/Inscription",exact:!0,component:g}),r.a.createElement(y.a,{path:"/Connexion",exact:!0,component:v}),r.a.createElement(y.a,{path:"/Profil",exact:!0,component:C}),r.a.createElement(y.a,{path:"/Home",exact:!0,component:O}),r.a.createElement(y.a,{path:"/ListeServeurs",exact:!0,component:x}),r.a.createElement(y.a,{path:"/Payment",exact:!0,component:B}),r.a.createElement(y.a,{path:"/menu",exact:!0,component:L}),r.a.createElement(y.a,{path:"/Commentaires",exact:!0,component:U}),r.a.createElement(y.a,{path:"/passwordReset",exact:!0,component:q}),r.a.createElement(y.a,{path:"/passwordRenew",exact:!0,component:V}),r.a.createElement(y.a,{path:"/Historique",exact:!0,component:Q}),r.a.createElement(y.a,{path:"/TipCommun",exact:!0,component:W}),r.a.createElement(y.a,{path:"/TipCommun1",exact:!0,component:Y}),r.a.createElement(y.a,{path:"/MangoCards",exact:!0,component:$}),r.a.createElement(y.a,{path:"/modifierMonProfil",exact:!0,component:_}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){e.exports=a(126)},80:function(e,t,a){},85:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.8aaa7013.chunk.js.map