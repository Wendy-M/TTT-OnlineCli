(this.webpackJsonpttt_front=this.webpackJsonpttt_front||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},125:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(27),l=a.n(r),c=a(6),s=a(7),i=a(9),m=a(8),u=a(16),p=(a(81),a(3)),h=a(12),d=a(23),f=a(15),g=a(11),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.checkboxchange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.checked))},n.addNewRegister=function(e){if(e.preventDefault(),n.state.cg){var t={lastname:n.state.lastname,firstname:n.state.firstname,email:n.state.email,password:n.state.password,gender:n.state.gender,age:n.state.age,adress:n.state.adress,phone:n.state.phone},a=new Headers({"Content-Type":"application/json"}),o={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/register",o).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),!0===e.success&&(alert("Votre inscription a bien \xe9t\xe9 prise en compte. Vous pouvez d\xe9sormais acc\xe9der \xe0 votre compte"),n.props.history.push("/"))}),(function(e){console.log(e)}))}else n.setState({message:"Veuillez accepter les CGU-CGV. Merci."})},n.state={lastname:null,firstname:null,email:null,password:null,gender:null,age:null,adress:null,phone:null,cg:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"bigBlocClient"},o.a.createElement(d.a,{className:"blocprincipalClient "},o.a.createElement(f.a,{className:"creerInscr"},o.a.createElement(g.a,{className:"colInscr",xs:12,s:12,md:7},o.a.createElement("h1",{className:"TitreInscription"},"Cr\xe9er mon compte "),o.a.createElement("p",{className:"sous-titre"},"Merci de remplir les informations ci-dessous pour finaliser la cr\xe9ation de votre compte."),o.a.createElement(p.a,{className:"form1"},o.a.createElement(p.a.Group,{controlId:"lastname"},o.a.createElement(p.a.Control,{type:"text",placeholder:"Nom",name:"lastname",onChange:this.change})),o.a.createElement(p.a.Group,{controlId:"firstname"},o.a.createElement(p.a.Control,{type:"text",placeholder:"Pr\xe9nom",name:"firstname",onChange:this.change})),o.a.createElement(p.a.Group,{controlId:"email"},o.a.createElement(p.a.Control,{type:"mail",placeholder:"Email",name:"email",onChange:this.change})),o.a.createElement(p.a.Group,{controlId:"password"},o.a.createElement(p.a.Control,{type:"password",placeholder:"Mot de passe",name:"password",onChange:this.change})),o.a.createElement(p.a,{className:"form2"},o.a.createElement(p.a.Group,{controlId:"gender"},o.a.createElement(p.a.Control,{as:"select",type:"text",name:"gender",onChange:this.change},o.a.createElement("option",null,"-"),o.a.createElement("option",null,"Femme"),o.a.createElement("option",null,"Homme"))),o.a.createElement(p.a.Group,{controlId:"adress"},o.a.createElement(p.a.Control,{type:"text",placeholder:"Ville",name:"adress",onChange:this.change})),o.a.createElement(p.a.Group,{controlId:"phone"},o.a.createElement(p.a.Control,{type:"text",placeholder:"T\xe9l\xe9phone",name:"phone",onChange:this.change})),o.a.createElement(p.a.Group,{controlId:"age"},o.a.createElement(p.a.Control,{type:"text",placeholder:"Age",name:"age",onChange:this.change}))),o.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},o.a.createElement(p.a.Check,{className:"checkbox",type:"checkbox",label:"J'accepte les CGU et CGV.*",onChange:this.checkboxchange,name:"cg"})),o.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},o.a.createElement(p.a.Check,{className:"checkbox",type:"checkbox",label:"J'accepte que mes donn\xe9es soient utilis\xe9s \xe0 des fins commerciales."}))),o.a.createElement(h.a,{className:"buttonInscri",type:"submit",onClick:this.addNewRegister},"S'inscrire"),o.a.createElement("br",null),o.a.createElement("p",null,this.state.message)),o.a.createElement(g.a,{className:"backInscr",md:5}))))}}]),a}(n.Component),b=(a(85),a(86),a(13)),v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.loginClient=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password},a=new Headers({"Content-Type":"application/json"}),o={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/login",o).then((function(e){return e.json()})).then((function(e){console.log("ok"),n.setState({message:e.message}),e.token&&e.userId&&(localStorage.setItem("token",e.token),localStorage.setItem("userID",e.userId),n.props.history.push("/ListeServeurs"))}),(function(e){console.log(e)}))},n.state={email:null,password:null},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{className:"connexion"},o.a.createElement(f.a,{className:"blocprincipalClient"},o.a.createElement(g.a,{xs:12,s:12,md:6,lg:6,className:"formConnexion"},o.a.createElement(p.a,{className:"formConnexion"},o.a.createElement(p.a.Label,{className:"text"},"D\xe9j\xe0 membre?"),o.a.createElement(p.a.Label,{className:"text"},"Connectez-vous !"),o.a.createElement(p.a.Group,{controlId:"formBasicEmail"},o.a.createElement(p.a.Control,{name:"email",type:"email",placeholder:"Votre e-mail",id:"email",onChange:this.change,value:this.state.email}),o.a.createElement(p.a.Text,{className:"text-muted"})),o.a.createElement(p.a.Group,{className:"passwordConnexion",controlId:"formBasicPassword"},o.a.createElement(p.a.Control,{name:"password",type:"password",placeholder:"Mot de passe",id:"password",onChange:this.change,value:this.state.password})),o.a.createElement(g.a,{className:"colMdp",xs:12,md:9},o.a.createElement(b.b,{className:"forgetpwd",to:"/passwordReset"},o.a.createElement("p",null,"Mot de passe oubli\xe9 ?")),o.a.createElement("p",{className:"politique"},"J'ai lu et j'accepte ",o.a.createElement(b.b,null,"la politique de confidentialit\xe9."))),o.a.createElement(g.a,{md:9,className:"blocCompte"},o.a.createElement(h.a,{className:"connectButton",onClick:this.loginClient.bind(this)},"Se connecter"),o.a.createElement("p",null,this.state.message),o.a.createElement(p.a.Group,null,o.a.createElement(p.a.Label,{className:"text2"},"Pas encore membre ?")),o.a.createElement(b.b,{className:"creerCompte",to:"/Inscription"},"Cr\xe9er mon compte")))),o.a.createElement(g.a,{className:"connexPic"})))}}]),a}(n.Component),C=(a(89),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),console.log(),(n=t.call(this,e)).click=function(){n.props.history.push({pathname:"/ListeServeurs"})},n.postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state)}),(function(e){console.log(e)}))},n.deleteClient=function(e){window.confirm("Etes-vous sur de vouloir supprimer votre compte? Cette action est irr\xe9versible."),e.preventDefault();var t={userId:localStorage.getItem("userID"),client:n.state.client},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),o={method:"DELETE",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/delete",o).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),alert("La suppression de votre compte a bien \xe9t\xe9 prise en compte. Merci."),n.props.history.push("/Home")}),(function(e){console.log(e)}))},n.signOut=function(){localStorage.clear(),n.props.history.push("/Connexion")},n.state={client:{historique:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return o.a.createElement(d.a,{className:"blocprincipalProfil "},o.a.createElement(h.a,{className:"buttontip",variant:"warning",size:"sm",onClick:this.click},"POURBOIRE"),o.a.createElement(f.a,null,o.a.createElement(g.a,null,o.a.createElement("h1",{className:"Titre-profil"},"Mon Profil Client"),o.a.createElement("div",{className:"infoProfil"},o.a.createElement("p",null,this.state.client.firstname," ",this.state.client.lastname),o.a.createElement("p",{className:"profilPara"},this.state.client.adress),o.a.createElement("p",{className:"profilPara"},this.state.client.phone)))),o.a.createElement(f.a,null,o.a.createElement(g.a,{s:12,xs:12,md:6},o.a.createElement(b.b,{to:"/modifierMonProfil",className:"modif"},o.a.createElement(h.a,{className:"buttonedit",type:"submit"},"Mettre \xe0 jour mon profil"))),o.a.createElement(g.a,{s:12,xs:12,md:6},o.a.createElement(b.b,{to:"/ListeServeurs",className:"modif"},o.a.createElement(h.a,{className:"buttonedit",type:"submit"},"Donner un pourboire"))),o.a.createElement(g.a,{s:12,xs:12,md:6},o.a.createElement(b.b,{to:"/Historique",className:"modif"},o.a.createElement(h.a,{className:"buttonedit",type:"submit"},"Historique de mes dons"))),o.a.createElement(g.a,{s:12,xs:12,md:6},o.a.createElement("div",{className:"Titre"},o.a.createElement(h.a,{className:"buttondeco",variant:"outline-warning",type:"submit",onClick:this.signOut},"Se d\xe9connecter"))),o.a.createElement("p",null,this.state.message)))}}]),a}(n.Component)),y=a(14),N=(a(90),a(137)),j=a(138),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).deleteProfil=function(t){window.confirm("Etes-vous sur de vouloir supprimer votre compte? Cette action est irr\xe9versible."),t.preventDefault();var a={userId:localStorage.getItem("userID"),profil:e.state.profil},n=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),o={method:"DELETE",body:JSON.stringify(a),headers:n};fetch("https://back-end.osc-fr1.scalingo.io/serveur/delete",o).then((function(e){return e.json()})).then((function(t){e.setState({message:t.message}),alert("La suppression de votre compte a bien \xe9t\xe9 prise en compte. Merci."),e.props.history.push("/connexion")}),(function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"footer"},o.a.createElement(N.a,{fixed:"bottom",collapseOnSelect:!0,expand:"lg",bg:"#edeaea"},o.a.createElement(N.a.Brand,{href:"#home",className:"textFooter"},"@Tipourboire"),o.a.createElement(N.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),o.a.createElement(N.a.Collapse,{id:"responsive-navbar-nav"},o.a.createElement(j.a,{className:"mr-auto"},o.a.createElement(j.a.Link,{href:"cgu-cgv/CGV_TIPTOTHANK.pdf",className:"textFooter"},"Condition G\xe9n\xe9ral"),o.a.createElement(j.a.Link,{href:"mailto:contact@tipourboire.com",className:"textFooter"},"Contact"),o.a.createElement(j.a.Link,{href:"#pricing",className:"textFooter",onClick:this.deleteProfil},"Supprimer mon compte")),o.a.createElement(j.a,null,o.a.createElement(j.a.Link,{eventKey:2,href:"#memes",className:"textFooter"},"A propos")))))}}]),a}(n.Component),I=(a(91),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{className:"ContainerHome"},o.a.createElement(f.a,{className:"blocHome"},o.a.createElement(g.a,{xs:12,md:6},o.a.createElement("h1",null,"Donner un Tip"),o.a.createElement("h2",null,"Sans compte client"),o.a.createElement("p",null,"Donner un pourboire sans cr\xe9er de compte"),o.a.createElement(b.b,{to:"/ListeServeurs"},o.a.createElement(h.a,{className:"rowButton"},"Donner un pourboire"))),o.a.createElement(g.a,{xs:12,md:6},o.a.createElement("h1",null,"Donner un Tip"),o.a.createElement("h2",null,"Avec compte client"),o.a.createElement("p",null,"Me connecter \xe0 mon espace Tipourboire"),o.a.createElement(b.b,{to:"/"},o.a.createElement(h.a,{className:"rowButton"},"Donner un pourboire")))))}}]),a}(n.Component)),S=a(135),x=a(45);a(92);a(93);var k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDataServeurs=function(e){var t=new Headers({"Content-Type":"application/json"});fetch("https://back-end.osc-fr1.scalingo.io/client/getDataServeur",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({serveur:e}),localStorage.setItem("restaurantName",e.restaurantName),localStorage.setItem("@idRestaurant",e._id)}),(function(e){console.log(e)}))},n.saveIdRestaurant=function(){},n.display=function(){return n.state.serveur.tabServeur.map((function(e,t){return o.a.createElement(d.a,{fluid:!0},o.a.createElement(f.a,{className:"rowTitre"},o.a.createElement(g.a,null,o.a.createElement("h3",null,"Donnez un tip \xe0"))),o.a.createElement(f.a,{className:"rowTitre2"},o.a.createElement(g.a,{s:12},o.a.createElement("h3",null,e.serveurName))),o.a.createElement(f.a,{className:"rowImage"},o.a.createElement(g.a,null,o.a.createElement(S.a,{src:"https://back-end.osc-fr1.scalingo.io/"+e.serveurPicture}))),o.a.createElement(f.a,{className:"butTips"},o.a.createElement(g.a,null,o.a.createElement(h.a,{onClick:function(){var t=new Headers({"Content-Type":"application/json"}),a={email:e.serveurMail},o={method:"POST",headers:t,body:JSON.stringify(a)};fetch("https://back-end.osc-fr1.scalingo.io/client/emailServeur",o).then((function(e){return e})).then((function(e){console.log(e)}),(function(e){console.log(e)})),n.props.history.push({pathname:"/Payment"})}},"Donner un Pourboire"))))}))},n.state={serveur:{tabServeur:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDataServeurs(),console.log("localStorage.getItem()"),console.log(localStorage.getItem("@idRestaurant"))}},{key:"render",value:function(){var e=this;return o.a.createElement(d.a,{className:"blocPrincipalClient"},o.a.createElement(f.a,{className:"vousEtes"},o.a.createElement(g.a,{className:"colLieu",s:12},o.a.createElement("img",{src:"/logoTTT/map.png"}),o.a.createElement("h1",{className:"Titre"},"Lieu : ",this.state.serveur.restaurantName))),o.a.createElement(f.a,null," ",o.a.createElement(g.a,{className:"colButton"},o.a.createElement(h.a,{onClick:function(){var t={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({})};fetch("https://back-end.osc-fr1.scalingo.io/client/emailServeur",t).then((function(e){return e})).then((function(e){console.log(e)}),(function(e){console.log(e)})),e.props.history.push({pathname:"/TipCommun"})}},"Donner \xe0 toute l'\xe9quipe !"))),o.a.createElement(f.a,{className:"display"},o.a.createElement(g.a,{xs:12,s:12,md:4},this.display())))}}]),a}(n.Component),w=(a(94),a(136)),T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).connect=function(){return null===localStorage.getItem("token")?o.a.createElement(w.a,{className:"nav justify-content-right"},o.a.createElement(w.a.Toggle,{alignRight:!0,variant:"success",id:"dropdown-basic"},o.a.createElement("img",{src:"/logoTTT/user.png"})),o.a.createElement(w.a.Menu,null,o.a.createElement(w.a.Item,{href:"/Connexion"},"Connexion"))):o.a.createElement(w.a,{className:"nav justify-content-right"},o.a.createElement(w.a.Toggle,{alignRight:!0,variant:"success",id:"dropdown-basic"},o.a.createElement("img",{src:"/logoTTT/user.png"})),o.a.createElement(w.a.Menu,null,o.a.createElement(w.a.Item,{href:"/Profil"},"Mon profil"),o.a.createElement(w.a.Item,{onClick:function(){window.confirm("Voulez vous vous d\xe9connecter ?"),localStorage.clear(),n.props.setLogin(!1),n.props.history.push("/")},href:"/"},"Deconnexion")))},n.state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.connect()}},{key:"render",value:function(){return o.a.createElement(d.a,{fluid:!0},o.a.createElement(f.a,{className:"partie1"},this.connect(),o.a.createElement(g.a,{className:"logoPartie1",md:12},o.a.createElement("img",{src:"/logoTTT/logoJaune.png"}))))}}]),a}(n.Component),D=a(29),P=a.n(D),M=a(39),G=a(47),R=(a(97),Object(G.a)("pk_test_51HAxRlHoh2Vgz5QdMpHXhINQMDhyGPR4gFvzs9vVzocySBI4WCfw8oPa7De6PC2ZJZlQKVQFRDPLU7FIGmXZC0QA00XGutN1eU")),H=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state.client.email)}),(function(e){console.log(e)}))},n.app=function(){var e=Object(M.a)(P.a.mark((function e(t){var a,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:10}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte=10&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 5:o=e.sent,o.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.app1=function(){var e=Object(M.a)(P.a.mark((function e(t){var a,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:2}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte=2&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 5:o=e.sent,o.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.app2=function(){var e=Object(M.a)(P.a.mark((function e(t){var a,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:5}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte=5&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 5:o=e.sent,o.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.appChoice=function(){var e=Object(M.a)(P.a.mark((function e(t){var a,o,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.amount<=1)){e.next=5;break}return window.alert("Le montant minimum du tips doit \xeatre de 2 euros"),e.abrupt("return");case 5:return e.next=7,R;case 7:return a=e.sent,o=n.state.amount,e.next=11,a.redirectToCheckout({lineItems:[{price:"price_1HlxlYHoh2Vgz5QdLB8yIwWQ",quantity:Number(o)}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte="+o+"&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"http://localhost:3000/Payment"});case 11:r=e.sent,r.error;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.change=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.state={amount:0,client:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"blocTips"},o.a.createElement("div",{className:"allButton"},o.a.createElement("h1",{className:"titleTips"},"Don Tipourboire"),o.a.createElement(f.a,{className:"RowPourboire"},o.a.createElement(g.a,null,o.a.createElement("button",{className:"tipButton1",onClick:this.app1},"Donnez 2 euros")),o.a.createElement(g.a,null,o.a.createElement("button",{className:"tipButton2",onClick:this.app2},"Donnez 5 euros")),o.a.createElement(g.a,null,o.a.createElement("button",{className:"tipButton3",onClick:this.app},"Donnez 10 euros")))),o.a.createElement("h1",{className:"amount"},"Don libre"),o.a.createElement(f.a,null,o.a.createElement(g.a,{xs:12,s:12,md:12},o.a.createElement(p.a,null,o.a.createElement(p.a.Group,{controlId:"formGroupAmount"},o.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Montant",onChange:this.change,value:this.state.amount}))))),o.a.createElement("p",{className:"amountMsg"},"(Veuillez saisir uniquement des chiffres entiers)"),o.a.createElement(h.a,{className:"validAmount",variant:"primary",type:"submit",onClick:this.appChoice},"Valider")))}}]),a}(n.Component),B=Object(G.a)("pk_test_51HAxRlHoh2Vgz5QdMpHXhINQMDhyGPR4gFvzs9vVzocySBI4WCfw8oPa7De6PC2ZJZlQKVQFRDPLU7FIGmXZC0QA00XGutN1eU"),L=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).Nocompte=function(){return o.a.createElement(f.a,null,o.a.createElement(g.a,null,o.a.createElement("p",null,"Tipourboire ne collecte aucune information"),o.a.createElement("p",null,o.a.createElement(b.b,{to:"https://stripe.com/payment-terms/legal"},"CGU Stripe"))))},n.state={_id:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.Elements,{stripe:B},o.a.createElement(H,null)))}}]),a}(n.Component),J=a(130),z=(a(98),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDailyMenu=function(){var e=new Headers({"Content-Type":"application/json"});fetch("https://back-end.osc-fr1.scalingo.io/client/menu/",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);n.setState({db1:t}),n.setState({menu:n.state.db1.menu.dailyMenu.picture}),console.log("this.state.db1"),console.log(n.state.menu)}),(function(e){console.log(e)}))},n.state={db1:{},menu:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDailyMenu()}},{key:"render",value:function(){return o.a.createElement(d.a,{className:"blocprincipal"},o.a.createElement(J.a,null,o.a.createElement("h2",{className:"Titre"},"MENU DU JOUR"),o.a.createElement(J.a.Body,null,o.a.createElement("p",{className:"datemenu"})),o.a.createElement(J.a.Img,{variant:"top",src:"https://back-end.osc-fr1.scalingo.io/"+this.state.menu,className:"dailyMenu",alt:"Menu du Jour"})),o.a.createElement(f.a,null,o.a.createElement(g.a,{md:12},o.a.createElement(b.b,{to:"/Home"},o.a.createElement(h.a,{className:"button",variant:"outline-warning",size:"lg"},"POURBOIRE")))))}}]),a}(n.Component)),V=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(z,null)}}]),a}(n.Component),A=(a(99),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.passwordRenew=function(e){if(e.preventDefault(),n.state.email&&n.state.password){var t={email:n.state.email,password:n.state.password,token:n.props.match.params.token},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/password-renew",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",password:"",message:""},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{className:"renewPass"},o.a.createElement(f.a,null,o.a.createElement(g.a,{className:"PassRenewCol",md:12},o.a.createElement("h1",{className:"newPass"}," Votre nouveau mot de passe"),o.a.createElement("form",{className:"formRenew",onSubmit:this.passwordRenew},o.a.createElement("input",{className:"inputRenew",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"}),o.a.createElement("br",null),o.a.createElement("input",{className:"inputRenew",type:"password",id:"password",name:"password",onChange:this.handleInput,placeholder:"Nouveau mot de passe"}),o.a.createElement("br",null),o.a.createElement(h.a,{className:"renewButton"},"Valider")),o.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),U=(a(100),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.passwordReset=function(e){if(e.preventDefault(),n.state.email){var t={email:n.state.email},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/password-reset",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",message:""},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{className:"passwordReset"},o.a.createElement(f.a,null,o.a.createElement(g.a,{className:"PassResetCol",md:12},o.a.createElement("div",{className:"PassResetDiv"},o.a.createElement("h1",{className:"taille"},"Veuillez saisir votre mail "),o.a.createElement("h1",{className:"titrePass taille"},"pour r\xe9initialiser votre mot de passe"," "),o.a.createElement("form",{className:"formReset",onSubmit:this.passwordReset},o.a.createElement("input",{className:"inputReset",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"}),o.a.createElement("button",{className:"resetButton"},"Confirmer")))),o.a.createElement(g.a,{className:"ButtonReset",md:12},o.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),q=(a(101),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.addNewStatut=function(e){e.preventDefault();var t={prenom:n.state.prenom,nom:n.state.nom,texte:n.state.texte,id:n.props.serveurId},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),o={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/commentaire",o).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.props.history.push({state:{serveurId:n.props.id},pathname:"/menu"})}),(function(e){console.log(e)}))},n.state={commentaires:[{nom:"",prenom:"",texte:""}]},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{className:"contCom"},o.a.createElement(f.a,{className:"coms"},o.a.createElement(g.a,{xs:12,s:12,md:12},o.a.createElement("h1",{className:"titreCom"},"Laissez un commentaire \xe0 votre serveur"))),o.a.createElement(f.a,{className:"coms"},o.a.createElement(g.a,{xs:12,s:12,md:12},o.a.createElement(p.a.Group,null,o.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.prenom,name:"prenom",type:"text",placeholder:"Prenom"})),o.a.createElement(p.a.Group,null,o.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.nom,name:"nom",type:"text",placeholder:"nom"})),o.a.createElement("textarea",{onChange:this.handleInput,value:this.state.texte,name:"texte",type:"text",class:"form-control",placeholder:"Que voulez-vous dire ?"})),o.a.createElement(g.a,null,o.a.createElement("button",{className:"buttonStatut",type:"submit",onClick:this.addNewStatut},"Publier")),o.a.createElement(g.a,{className:"caract"},o.a.createElement("small",null,"100 caract\xe8res maximum"))))}}]),a}(n.Component)),Q=a(70),F=(a(102),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t})}),(function(e){console.log(e)}))},n.display=function(){return n.state.client.historique.map((function(e,t){return o.a.createElement("tr",null,o.a.createElement("td",{type:"text",id:"montant",name:"montant"}," ",e.montant/100,"\u20ac"),o.a.createElement("td",{type:"date",id:"date",name:"date"}," ",new Date(e.date).toLocaleDateString()),o.a.createElement("td",{type:"text",id:"waiter",name:"waiter"}," ",e.waiter),o.a.createElement("td",{type:"text",id:"restaurantName",name:"restaurantName"}," ",e.restaurantName))}))},n.state={client:{historique:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return o.a.createElement(d.a,{className:"histoClient"},o.a.createElement(f.a,null,o.a.createElement(g.a,{className:"titleHisto"}," ",o.a.createElement("h3",null,"Historique de vos pourboire"))),o.a.createElement(f.a,{class:"table-responsive"},o.a.createElement(Q.a,{striped:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Montant"),o.a.createElement("th",null,"Date"),o.a.createElement("th",null,"Serveur"),o.a.createElement("th",null,"Restaurant"))),o.a.createElement("tbody",null,this.display()))))}}]),a}(n.Component)),_=(a(103),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){var t=n.state.client;t[e.target.name]=e.target.value,n.setState({client:t})},n.postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state)}),(function(e){console.log(e)}))},n.editClient=function(e){e.preventDefault();var t={userId:localStorage.getItem("userID"),client:n.state.client},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),o={method:"PUT",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/edit",o).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))},n.state={client:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return o.a.createElement("div",{className:"bloc-modifierProfil"},o.a.createElement(f.a,null,o.a.createElement(g.a,{md:12,className:"titreModif"},o.a.createElement("h1",null,"Modification du profil"),o.a.createElement(p.a,null,o.a.createElement(p.a.Group,{controlId:"formGroupName"},o.a.createElement(p.a.Control,{name:"lastname",type:"text",placeholder:"Nom",onChange:this.change,value:this.state.client.lastname})),o.a.createElement(p.a.Group,{controlId:"formGroupPrenom"},o.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.change,value:this.state.client.firstname})),o.a.createElement(p.a.Group,{controlId:"formAdresse"},o.a.createElement(p.a.Control,{as:"select",type:"text",placeholder:"Sexe",name:"gender",onChange:this.change,value:this.state.client.gender},o.a.createElement("option",null,"-"),o.a.createElement("option",null,"Femme"),o.a.createElement("option",null,"Homme"))),o.a.createElement(p.a.Group,{controlId:"formVille"},o.a.createElement(p.a.Control,{type:"text",placeholder:"Ville",name:"adress",onChange:this.change,value:this.state.client.adress})),o.a.createElement(p.a.Group,{controlId:"formTel"},o.a.createElement(p.a.Control,{type:"text",placeholder:"Telephone(Facultatif)",name:"phone",onChange:this.change,value:this.state.client.phone})),o.a.createElement(p.a.Group,{controlId:"formAge"},o.a.createElement(p.a.Control,{type:"text",placeholder:"Age",name:"age",onChange:this.change,value:this.state.client.age}))),o.a.createElement(h.a,{className:"submitButton",variant:"primary",type:"submit",onClick:this.editClient},"Mettre \xe0 jour mon profil"))))}}]),a}(n.Component)),W=(a(104),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.postInfoCard=function(){var e=new Headers({"Content-Type":"application/json"}),t={firstname:n.state.firstname,lastname:n.state.lastname,email:n.state.email},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/TipUser",a).then((function(e){return e.json()})).then((function(e){localStorage.setItem("@data",JSON.stringify(e))})),n.props.history.push("/TipCommun1")},n.state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(d.a,{className:"mainBlocCommun"},o.a.createElement(f.a,null,o.a.createElement(g.a,{className:"blocCommun",xs:12,s:12,md:12},o.a.createElement("p",{className:"titleCommun"},"Information client")),o.a.createElement(g.a,{className:"formCommun",xs:12,s:12,md:12},o.a.createElement(p.a,{className:"formCommun"},o.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},o.a.createElement(p.a.Control,{className:"formMail",name:"email",type:"text",placeholder:"E-Mail",onChange:this.handleInput,value:this.state.email}),o.a.createElement(p.a.Control,{name:"lastname",type:"text",placeholder:"Nom",onChange:this.handleInput,value:this.state.lastname}),o.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.handleInput,value:this.state.firstname})))),o.a.createElement(g.a,{className:"ButtonCol",xs:12,s:12,md:12},o.a.createElement(h.a,{className:"communButton",onClick:this.postInfoCard},"Continuer vers la page de paiement"))))}}]),a}(n.Component)),X=a(71),K=a.n(X),Z=a(72),Y=a.n(Z),$=(a(125),a(126),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.postToken=function(){n.state.amount<=1?window.alert("Le montant minimum du tips doit \xeatre de 2 euros"):Y()({method:"post",url:n.state.data.CardRegistrationURL,data:K.a.stringify({cardRegistrationId:n.state.data.Id,accessKeyRef:n.state.data.AccessKey,data:n.state.data.PreregistrationData,cardNumber:n.state.cardNumber,cardExpirationDate:n.state.cardExpirationDate,cardCvx:n.state.cardCvx}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){n.setState({resultat:e}),n.payin()}))},n.payin=function(){var e=new Headers({"Content-Type":"application/json"}),t={walletID:n.state.walletID,amount:n.state.amount,cardRegistrationId:n.state.data.Id,registrationData:n.state.resultat.data},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/payin",a).then((function(e){return e.json()})).then((function(e){n.setState({walletID:e}),console.log(e)}))},n.getWalletId=function(){var e=new Headers({"Content-Type":"application/json"}),t={_id:localStorage.getItem("@idRestaurant")},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/getWalletId",a).then((function(e){return e.json()})).then((function(e){n.setState({walletID:e}),console.log(e)}))},n.state={data:{},resultat:{},walletID:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getWalletId(),console.log("JSON"),this.setState({data:JSON.parse(localStorage.getItem("@data"))}),console.log(JSON.parse(localStorage.getItem("@data")))}},{key:"render",value:function(){return o.a.createElement(d.a,{className:"mainBlocCommun"},o.a.createElement(f.a,null,o.a.createElement(g.a,{className:"blocCommun",xs:12,s:12,md:12},o.a.createElement("p",{className:"titleCommun"},"Paiement du pourboire"),o.a.createElement("h5",{className:"tipsMin"},"Le tips doit \xeatre de 2 euros minimum !")),o.a.createElement(g.a,{className:"formCommun",xs:12,s:12,md:12},o.a.createElement(p.a,{className:"formCommun"},o.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},o.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Montant du Don G\xe9n\xe9ral",onChange:this.handleInput}),o.a.createElement(p.a.Control,{name:"cardNumber",type:"text",placeholder:"Num\xe9ro de carte bleu",onChange:this.handleInput}),o.a.createElement(p.a.Control,{name:"cardExpirationDate",type:"text",placeholder:"Date d'expiration",onChange:this.handleInput}),o.a.createElement(p.a.Control,{name:"cardCvx",type:"text",placeholder:"CVX",onChange:this.handleInput})))),o.a.createElement(g.a,{className:"ButtonCol",xs:12,s:12,md:12},o.a.createElement(h.a,{className:"communButtonVal",onClick:this.postToken},"Payer"))))}}]),a}(n.Component)),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement(p.a.Group,{controlId:"formGroupAmount"},o.a.createElement(p.a.Control,{name:"email",type:"text",placeholder:"E-Mail",onChange:this.change,value:this.state.amount}),o.a.createElement(p.a.Control,{name:"name",type:"text",placeholder:"Nom",onChange:this.change,value:this.state.amount}),o.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.change,value:this.state.amount}),o.a.createElement(p.a.Control,{name:"birthday",type:"date",placeholder:"Date de naissance",onChange:this.change,value:this.state.amount}))))}}]),a}(n.Component),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setLogin=function(e){n.setState({login:e})},n.state={login:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("token")&&this.setState({login:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(b.a,null,o.a.createElement(T,null),o.a.createElement(y.c,null,o.a.createElement(y.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(v,Object.assign({setLogin:e.setLogin},t))}}),o.a.createElement(y.a,{path:"/Inscription",exact:!0,component:E}),o.a.createElement(y.a,{path:"/Profil",exact:!0,component:C}),o.a.createElement(y.a,{path:"/Home",exact:!0,component:I}),o.a.createElement(y.a,{path:"/ListeServeurs",exact:!0,component:k}),o.a.createElement(y.a,{path:"/Payment",exact:!0,component:L}),o.a.createElement(y.a,{path:"/menu",exact:!0,component:V}),o.a.createElement(y.a,{path:"/Commentaires",exact:!0,component:q}),o.a.createElement(y.a,{path:"/passwordReset",exact:!0,component:U}),o.a.createElement(y.a,{path:"/passwordRenew",exact:!0,component:A}),o.a.createElement(y.a,{path:"/Historique",exact:!0,component:F}),o.a.createElement(y.a,{path:"/TipCommun",exact:!0,component:W}),o.a.createElement(y.a,{path:"/TipCommun1",exact:!0,component:$}),o.a.createElement(y.a,{path:"/MangoCards",exact:!0,component:ee}),o.a.createElement(y.a,{path:"/modifierMonProfil",exact:!0,component:_})),o.a.createElement(O,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(129)},81:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.bfc073bc.chunk.js.map